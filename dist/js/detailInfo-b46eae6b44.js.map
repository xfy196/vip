{"version":3,"sources":["detailInfo.js"],"names":["$","callbacks","Callbacks","Car","data","this","carDetailInfo","formEle","colorEel","sizeEle","numReduce","numAdd","numInput","add","ajax","type","url","then","test","code","imageInfo","productInfo","images","forEach","item","index","concat","infoCoding","brandName","longTitle","promotion_price","max_market_price","promotionDiscount","sizes","name","dataJson","JSON","stringify","id","html","renderProductDetail","product","magnifier","container","containerImg","view","thumbnail","width","height","zoom","init","dataType","brandStoreV2","products","productId","imageUrl","title","salePrice","lookLook","on","re_brand_ele","parent","prev","find","hasClass","stop","animate","top","position","siblings","removeClass","addClass","bind","re_brand_children_eles","children","totalHeight","length","fire","extend","prototype","initCars","bindEvent","addCar","carsList","localStorage","setItem","parse","getItem","keys","Object","indexOf","carData","num_input_ele","color","val","end","size","num","css","cursor","that","hide","setTimeout","location","href","show","toggleClass","attr","Number","jQuery"],"mappings":"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","file":"detailInfo-b46eae6b44.js","sourcesContent":["\"use strict\";\n\n;\n;\n\n(function ($) {\n  var callbacks = $.Callbacks();\n  callbacks.add(init);\n  callbacks.fire();\n\n  function init() {\n    getProductData();\n    getRecommendData();\n    recommendLoop();\n  }\n  /**\n   * 购物车对象\n   */\n\n\n  function Car(data) {\n    this.data = data;\n    this.carDetailInfo = data.data;\n    this.formEle = $(data.formEle);\n    this.colorEel = $(data.colorEel);\n    this.sizeEle = $(data.sizeEle);\n    this.numReduce = $(data.numReduce);\n    this.numAdd = $(data.numAdd);\n    this.numInput = $(data.numInput);\n  }\n\n  $.extend(Car.prototype, {\n    init: function init() {\n      this.initCars();\n      this.bindEvent();\n    },\n    addCar: function addCar() {\n      // 就这个数据进行操作更改他的数据结构\n      var productId = this.carDetailInfo.product.id;\n      this.carsList[productId] = this.carDetailInfo.product;\n      localStorage.setItem(\"cars\", JSON.stringify(this.carsList));\n    },\n\n    /**\n     * 初始化购物车数据\n     */\n    initCars: function initCars() {\n      this.carsList = JSON.parse(localStorage.getItem(\"cars\")) || {};\n      var keys = Object.keys(this.carsList); // 如果购物车中有数据我们需要将数据取出然后判断是否存在这个商品存在需要将这个商品的数据设置成购物车中的数据\n\n      if (keys.length !== 0) {\n        if (keys.indexOf(this.carDetailInfo.product.id) !== -1) {\n          var carData = this.carsList[this.carDetailInfo.product.id]; // 最后获取的节点是商品数量的节点\n\n          var num_input_ele = $(\".productInfo\").find(\"a[title=\" + carData.color + \"]\").addClass(\"color-selected\").parent().siblings(\"input\").val(carData.color).end().end().end().find(\"li[title=\" + carData.size + \"]\").addClass(\"size-selected\").siblings(\"input\").val(carData.size).end().end().find(\".num-input\").html(carData.num); // 判断商品的数量是大于1的就需要将加好的进制箭头变为pointer\n\n          if (carData.num > 1) {\n            num_input_ele.prev().css({\n              cursor: \"pointer\"\n            });\n          }\n        }\n      }\n    },\n    bindEvent: function bindEvent() {\n      var that = this;\n      this.formEle.on(\"click\", \".button-box button\", function () {\n        // 验证购物车中的一些必选是否选中\n\n        /* \n            选中将购物车数据添加到localStorage中\n            没有选中弹出提示信息高度用户需要勾选选项\n        */\n        // 验证时候该选的都已经选中了\n        if (!(that.colorEel.hasClass(\"color-selected\") && that.sizeEle.hasClass(\"size-selected\"))) {\n          $(\".addErrorMsg\").show();\n        } else {\n          // 错误信息隐藏\n          $(\".addErrorMsg\").hide(); // 每次获取隐藏雨中的商品尺码和颜色信息\n\n          that.carDetailInfo.product.color = that.colorEel.parent().siblings(\"input\").val();\n          that.carDetailInfo.product.size = that.sizeEle.siblings(\"input\").val();\n          that.carDetailInfo.product.num = that.numInput.html(); // 将购物车的数据存储到localStorage中\n\n          that.addCar(); // 延迟跳转\n\n          setTimeout(function () {\n            location.href = \"./cars.html\";\n          }, 300);\n        }\n      }); //选择颜色\n\n      this.formEle.on(\"click\", that.data.colorEel, function () {\n        $(this).toggleClass(\"color-selected\").parent().siblings().find(that.data.colorEel).removeClass(\"color-selected\");\n\n        if ($(this).hasClass(\"color-selected\")) {\n          $(this).parent().siblings(\"input\").val($(this).attr(\"title\"));\n        } else {\n          $(this).parent().siblings(\"input\").val(\"\");\n        }\n      }); // 选择尺寸\n\n      this.formEle.on(\"click\", that.data.sizeEle, function () {\n        $(this).toggleClass(\"size-selected\").siblings(that.data.sizeEle).removeClass(\"size-selected\");\n\n        if ($(this).hasClass(\"size-selected\")) {\n          $(this).siblings(\"input\").val($(this).attr(\"title\"));\n        } else {\n          $(this).siblings(\"input\").val(\"\");\n        }\n      }); // 选择数量 加法的\n\n      this.formEle.on(\"click\", that.data.numAdd, function () {\n        var num = Number(that.numInput.html());\n        num++;\n\n        if (num > 1) {\n          that.numReduce.css({\n            cursor: \"pointer\"\n          });\n        }\n\n        that.numInput.html(num);\n      }); // 选择数量减法的\n\n      this.formEle.on(\"click\", that.data.numReduce, function () {\n        var num = Number(that.numInput.html());\n        ;\n        num--;\n\n        if (num === 0) {\n          return false;\n        }\n\n        if (num <= 1) {\n          that.numReduce.css({\n            cursor: \"not-allowed\"\n          });\n        }\n\n        that.numInput.html(num);\n      });\n    }\n  });\n  /**\n  * 获取商品详情的数据\n  */\n\n  function getProductData() {\n    $.ajax({\n      type: \"get\",\n      url: \"../json/detailInfo.json\"\n    }).then(function (data) {\n      var magnifierConfig = {\n        magnifier: \".pic\",\n        //最外层的大容器\n        container: \".zoomPad\",\n        containerImg: \".zoom_origin_img_box\",\n        view: \".zoomWindow\",\n        thumbnail: \".pic-slider ul\",\n        width: 420,\n        //承载容器宽\n        height: 420,\n        //承载容器高\n        zoom: 3\n      };\n\n      if (!/^2\\d{2}$/.test(data.code)) {\n        return false;\n      }\n\n      renderProductDetail(data.data.product);\n      magnifier(magnifierConfig);\n      new Car({\n        data: data.data,\n        formEle: \"#cartAdd-form\",\n        colorEel: \".colorItem\",\n        sizeEle: \".size-list-item\",\n        numReduce: \".num-reduce\",\n        numInput: \".num-input\",\n        numAdd: \".num-add\"\n      }).init();\n    });\n    ;\n  }\n  /**\n   * @msg 渲染商品详情的数据\n   * @param {数据} data \n   */\n\n\n  function renderProductDetail(data) {\n    var imageInfo = \"\";\n    var productInfo = \"\";\n    imageInfo += \"<div class=\\\"pic-sliderwrap\\\">\\n        <div class=\\\"show-midpic active-pannel\\\">\\n            <a href=\\\"javascript:;\\\" class=\\\"bigImgZoom\\\">\\n                <div class=\\\"zoomPad\\\">\\n                    <div class=\\\"zoom_origin_img_box\\\">\\n                    </div>\\n\\n                    <!-- \\u653E\\u5927\\u7684\\u76D2\\u5B50 -->\\n                    <div class=\\\"zoomWindow\\\" style=\\\"display: none;\\\">\\n                        <div class=\\\"zoomWrapperImage\\\">\\n                            \\n                        </div>\\n                    </div>\\n                </div>\\n            </a>\\n            <em class=\\\"icon-a\\\"></em>\\n        </div>\\n    </div>\\n    <div class=\\\"pic-slider\\\">\\n        <ul class=\\\"sImg-wrap\\\">\";\n    data.images.forEach(function (item, index) {\n      imageInfo += \"\\n            <li class=\\\"pic-sImg-item\\\">\\n                <img width=\\\"64\\\" height=\\\"64\\\"\\n                    src=\\\"\".concat(item, \"\\\"\\n                    class=\\\"mer-smallImg\\\" alt=\\\"\\\">\\n            </li>\");\n    });\n    imageInfo += \"</ul>\\n        </div>\\n        <!-- \\u4EA7\\u54C1\\u56FE\\u7247end -->\\n        <div class=\\\"product-text\\\">\\n            <p class=\\\"other-infoCoding\\\">\\u5546\\u54C1\\u7F16\\u7801\\uFF1A\".concat(data.infoCoding, \"</p>\\n            <div class=\\\"onsell-collect\\\" id=\\\"add_fav_wrapper\\\">\\n                <div class=\\\"goods-fav-collect\\\" id=\\\"add_fav_button\\\">\\n                    <i></i>\\n                    <span class=\\\"collect-tips\\\">\\u6536\\u85CF\\u5546\\u54C1</span>\\n                </div>\\n                <div class=\\\"goods-fav-collected hidden\\\" id=\\\"remove_fav_button\\\">\\n                    <i class=\\\"iconfont\\\"></i>\\n                    <span class=\\\"collect-tips had-collected\\\">\\u5DF2\\u6536\\u85CF</span>\\n                    <span class=\\\"collect-tips cancel-collected\\\">\\u53D6\\u6D88\\u6536\\u85CF</span>\\n                </div>\\n    \\n            </div>\\n        </div>\\n        <div class=\\\"safeguard-icon\\\">\\n        <div class=\\\"pi-promise-box clearfix\\\">\\n            <ul class=\\\"pi-promise-list\\\">\\n                <img src=\\\"//shop.vipstatic.com/img/detail/pc_xuanguan.png\\\">\\n            </ul>\\n        </div>\\n    </div>\"); // 商品详情的html\n\n    productInfo += \"\\n        <div class=\\\"pi-title-box\\\">\\n            <div class=\\\"pib-title\\\">\\n                <a href=\\\"javascript:;\\\" class=\\\"pib-title-brandName\\\">\".concat(data.brandName, \"</a>\\n                <span class=\\\"pib-presale-tag hidden\\\">\\u9884\\u552E</span>\\n                <p class=\\\"pib-title-detail\\\" title=\\\"\").concat(data.longTitle, \"\\\">\").concat(data.longTitle, \"\\n                </p>\\n            </div>\\n        </div>\\n        <div class=\\\"pi-price-box\\\">\\n            <div class=\\\"specialPrice-wrap\\\">\\n                <div class=\\\"spcecialPrice-box\\\">\\n                    <div class=\\\"sp-info\\\">\\n                        <span class=\\\"sp-title\\\">\\u6298\\u540E\\u4EF7</span>\\n                        <i class=\\\"pbox-yen\\\">\\xA5</i>\\n                        <span title=\\\"469\\\" class=\\\"sp-price\\\">\").concat(data.promotion_price, \"</span>\\n                        <span class=\\\"sp-postfix\\\"></span>\\n                        <span class=\\\"pbox-market\\\">\\xA5<del class=\\\"marketPrice\\\">\").concat(data.max_market_price, \"</del></span>\\n                        <span class=\\\"sp-discount\\\">\").concat(data.promotionDiscount, \"</span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div id=\\\"proData-box\\\" class=\\\"pi-attr-box\\\">\\n            <form action=\\\"javascript:;\\\" class=\\\"cartAdd-form\\\" id=\\\"cartAdd-form\\\">\\n                <input type=\\\"hidden\\\" name=\\\"act\\\" value=\\\"add\\\">\\n                <input type=\\\"hidden\\\" name=\\\"client_time\\\" value=\\\"\\\">\\n                <dl class=\\\"delivery-address clearfix\\\">\\n                    <dt class=\\\"delivery-address-name\\\">\\u914D\\u9001</dt>\\n                    <dd class=\\\"delivery-address-box\\\">\\n                        <div class=\\\"delivery-address-info\\\">\\n                            <div class=\\\"delivery-address-tips\\\">\\n                                <span class=\\\"tab_name\\\">\\u8BF7\\u9009\\u62E9\\u914D\\u9001\\u533A\\u57DF</span>\\n                            </div>\\n                            <i class=\\\"iconfont icon-xiajiantou\\\"></i>\\n                        </div>\\n                    </dd>\\n                </dl>\\n                <div class=\\\"delivery_time_container delivery_message clearfix\\\">\\n                    <div class=\\\"message-box\\\">\\n\\n                        \\u73B0\\u5728\\u4ED8\\u6B3E\\uFF0C\\u9884\\u8BA14\\u670820\\u65E5\\uFF08\\u5468\\u4E00\\uFF09\\u9001\\u8FBE</div>\\n                </div>\\n                <dl class=\\\"i-freight clearfix\\\">\\n                    <dt class=\\\"freight-name\\\">\\u8FD0\\u8D39</dt>\\n                    <span id=\\\"freight_tips\\\" class=\\\"freight_tips\\\">\\u65B0\\u4F1A\\u5458\\u4E13\\u4EAB\\u9996\\u5355\\u6EE138\\u5143\\u514D\\u90AE\\uFF08\\u9650\\u552F\\u54C1\\u81EA\\u8425\\u5546\\u54C1\\uFF0C\\u90E8\\u5206\\u5546\\u54C1\\u4E0D\\u53EF\\u7528\\uFF09</span>\\n                </dl>\\n                <dl class=\\\"i-color clearfix\\\">\\n                    <dt class=\\\"color-name\\\">\\u989C\\u8272</dt>\\n                    <dd class=\\\"color-list\\\">\\n                        <ul class=\\\"clearfix\\\">\\n                        <input type=\\\"hidden\\\" name=\\\"color\\\" value=\\\"\\\">\\n                            <li class=\\\"color-list-item\\\"><a href=\\\"javascript:;\\\" title=\\\"\\u4F20\\u5947\\u84DD\\\"\\n                                    class=\\\"colorItem\\\">\\n                                    <span class=\\\"color-pic-wrapper\\\">\\n                                        <img src=\\\"https://a.vpimg3.com/upload/merchandise/pdcvis/2020/03/07/20/d2346eca-3693-4372-bc41-25813762fb83_420_531_54x69_100.jpg\\\"\\n                                            alt=\\\"\\u4F20\\u5947\\u84DD\\\" width=\\\"22\\\" height=\\\"28\\\">\\n                                    </span>\\n                                    <span class=\\\"color-item-name\\\">\\u4F20\\u5947\\u84DD</span>\\n                                    <span class=\\\"i-select\\\"></span>\\n                                    <span class=\\\"i-chance\\\"></span>\\n                                </a></li>\\n                            <li class=\\\"color-list-item\\\"><a href=\\\"javascript:;\\\" title=\\\"\\u6807\\u51C6\\u767D\\\"\\n                                    class=\\\"colorItem\\\">\\n                                    <span class=\\\"color-pic-wrapper\\\">\\n                                        <img src=\\\"https://a.vpimg3.com/upload/merchandise/pdcvis/2020/03/07/6/90b0f38c-4593-4d92-970a-6c71f2e0728d_420_531_54x69_100.jpg\\\"\\n                                            alt=\\\"\\u6807\\u51C6\\u767D\\\" width=\\\"22\\\" height=\\\"28\\\">\\n                                    </span>\\n                                    <span class=\\\"color-item-name\\\">\\u9676\\u74F7\\u767D</span>\\n                                    <span class=\\\"i-select\\\"></span>\\n                                    <span class=\\\"i-chance\\\"></span>\\n                                </a></li>\\n                        </ul>\\n                    </dd>\\n                </dl>\\n                <dl class=\\\"i-size clearfix\\\">\\n                    <dt class=\\\"size-name\\\">\\u5C3A\\u5BF8</dt>\\n                    <dd class=\\\"i-notice-msg notice-msg\\\"><i class=\\\"\\\"></i>\\u8BF7\\u9009\\u62E9\\u5C3A\\u7801</dd>\\n                    <dd class=\\\"size-list\\\">\\n                        <ul class=\\\"clearfix\\\">\\n                        <input type=\\\"hidden\\\" name=\\\"size\\\" value=\\\"\\\">\");\n    data.sizes.forEach(function (item, index) {\n      productInfo += \"<li class=\\\"size-list-item\\\" title=\\\"\".concat(item.name, \"\\\">\\n                            <span class=\\\"size-list-item-name\\\">\").concat(item.name, \"</span>\\n                            <span class=\\\"i-select\\\"></span>\\n                            <span class=\\\"i-recommand\\\"></span>\\n                        </li>\");\n    });\n    var dataJson = JSON.stringify(data);\n    productInfo += \"</ul>\\n                    </dd>\\n                </dl>\\n                <dl class=\\\"i-num clearfix\\\">\\n                    <dt class=\\\"num-name\\\">\\u6570\\u91CF</dt>\\n                    <dd class=\\\"ui-quantity num-box\\\">\\n                        <a href=\\\"javascript:;\\\" class=\\\"num-reduce iconfont icon-jianhao z-disable\\\"></a>\\n                        <em class=\\\"amount num-input num-txt\\\">1</em>\\n                        <a href=\\\"javascript:;\\\" class=\\\"num-add iconfont icon-jiahao\\\"></a>\\n                    </dd>\\n                </dl>\\n                <div class=\\\"addErrorMsg\\\">\\u8BF7\\u9009\\u62E9\\u6B63\\u786E\\u7684\\u989C\\u8272\\u548C\\u5C3A\\u5BF8\\u518D\\u53BB\\u63D0\\u4EA4</div>\\n                <div class=\\\"i-button\\\">\\n                    <!-- \\u52A0\\u5165\\u8D2D\\u7269\\u888B\\u7684\\u6309\\u94AE -->\\n                    <div class=\\\"button-box\\\">\\n                        <button type=\\\"submit\\\" class=\\\"ui-btn-large ui-btn-primary ui-btn-loading\\\" data-value=\".concat(dataJson, \" data-id=\").concat(data.id, \">\\n                            <span class=\\\"ui-btn-loading-before ui-btn-big\\\">\\n                                <i class=\\\"iconfont icon-gouwudai\\\"></i>\\n                                \\u52A0\\u5165\\u8D2D\\u7269\\u888B\\n                            </span>\\n                        </button>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\");\n    $(\".mer-ImgReview\").html(imageInfo);\n    $(\".product-content-inner\").html(productInfo);\n  }\n  /**\n   * 获取推荐的数据\n   */\n\n\n  function getRecommendData() {\n    $.ajax({\n      url: \"../json/detailRecommend.json\",\n      dataType: \"json\"\n    }).then(function (data) {\n      renderRecommendStore(data.data.brandStoreV2);\n      renderRecommendLook(data.data.lookLook);\n    });\n  }\n  /**\n   * 渲染推荐的品牌数据\n   * @param {*} data \n   */\n\n\n  function renderRecommendStore(data) {\n    var html = \"\";\n    data.products.forEach(function (item, index) {\n      html += \"<a href=\\\"javascript:void(0)\\\" data-id=\".concat(item.productId, \">\\n                 <img src=\\\"\").concat(item.imageUrl, \"\\\"\\n                     alt=\\\"\\\">\\n                 <div class=\\\"re-product-info\\\">\\n                     <div class=\\\"re-product-name\\\">\").concat(item.title, \"</div>\\n                     <div class=\\\"re-product-price\\\">\\xA5\").concat(item.salePrice.salePrice, \"</div>\\n                 </div>\\n             </a>\");\n    });\n    $(\".re-brand\").html(html);\n  }\n  /**\n   * 渲染推荐板块的看了又看数据\n   * @param {*} data \n   */\n\n\n  function renderRecommendLook(data) {\n    var html = \"\";\n    data.products.forEach(function (item, index) {\n      html += \"<a href=\\\"javascript:void(0)\\\" data-id=\".concat(item.productId, \">\\n                 <img src=\\\"\").concat(item.imageUrl, \"\\\"\\n                     alt=\\\"\\\">\\n                 <div class=\\\"re-product-info\\\">\\n                     <div class=\\\"re-product-name\\\">\").concat(item.title, \"</div>\\n                     <div class=\\\"re-product-price\\\">\\xA5\").concat(item.salePrice.salePrice, \"</div>\\n                 </div>\\n             </a>\");\n    });\n    $(\".re-look\").html(html);\n  }\n  /**\n   * 热销好货点击轮播功能\n   */\n\n\n  function recommendLoop() {\n    // 事件委托 监听两个上下的按钮\n    $(\".recommend\").on(\"click\", \".re-pre\", function () {\n      var re_brand_ele = $(this).parent().prev().find(\".re-list\");\n\n      if ($(this).hasClass(\"icon-btn-disable\")) {\n        return false;\n      } // 因为只有12张图片每张图片显示高度是250px 一轮就是1000px\n\n\n      re_brand_ele.stop(true, true).animate({\n        top: re_brand_ele.position().top + 1000\n      }, 200, function () {\n        // 没点击让自己的兄弟移除禁止的列名\n        $(this).siblings().removeClass(\"icon-btn-disable\"); // 判断是否达到边界\n\n        if (re_brand_ele.position().top === 0) {\n          $(this).addClass(\"icon-btn-disable\").siblings().removeClass(\"icon-btn-disable\");\n        }\n      }.bind(this));\n    });\n    $(\".recommend\").on(\"click\", \".re-next\", function () {\n      if ($(this).hasClass(\"icon-btn-disable\")) {\n        return false;\n      } // 存放图片的盒子\n\n\n      var re_brand_ele = $(this).parent().prev().find(\".re-list\"); // 所有的图片元素\n\n      var re_brand_children_eles = re_brand_ele.children(); // 所有图片的总高度\n\n      var totalHeight = re_brand_children_eles.height() * re_brand_children_eles.length;\n      re_brand_ele.stop(true, true).animate({\n        top: re_brand_ele.position().top - 1000\n      }, 200, function () {\n        $(this).siblings().removeClass(\"icon-btn-disable\");\n\n        if (re_brand_ele.position().top === -(totalHeight - 1000)) {\n          $(this).addClass(\"icon-btn-disable\");\n        }\n      }.bind(this));\n    });\n  }\n})(jQuery);"]}