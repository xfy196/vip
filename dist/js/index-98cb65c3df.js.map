{"version":3,"sources":["index.js"],"names":["Stairs","options","this","init","$","mySwiper","Swiper","effect","fadeEffect","crossFade","autoplay","delay","disableOnInteraction","loop","pagination","el","clickable","navigation","nextEl","prevEl","i","bullets","length","onmouseover","click","stop","prev_ele","next_ele","animate","left","right","onmouseout","start","swiperOpr","ajax","url","dataType","data","app_name","app_version","warehouse","fdc_area_id","client","mobile_platform","province_id","api_key","user_id","mars_cid","wap_consumer","channel_id","gPlatform","_","Date","now","success","msg","attr","showWord","jsonpCallback","count","uid","hot_list_html","search_recommend_list_html","code","res","concat","key","_i","word","html","hover_two_get_staring","mouseover","setTimeout","hierarchy_id","then","tabs","tabs_html","categoryId","name","mouseenter","args","category_id","firstElementChild","getAttribute","hierarchyId","clientFrom","net","width","height","pcmpWidth","mobile_channel","functions","sub_category_html","brand_rec","sectionList","img_list","list_html","children","category","j","href","image","renderThreeCategory","navHoverAjax","shop_top_banners","_loop","floorNum","type","mode","areaCode","pagecode","provinceName","cityName","brandInfoExt[fields]","brandInfoExt[startIndex]","brandInfoExt[num]","preview","token","callback","marginStr","brandImage","size2","salesName","activeIndexTips","agio","salesNo","noticeRankRenderData","brandInfo","content_selector","stairs_selector","lazyload","threshold","floorId","newDapLogic","channelId","sortType","sell_time_from","time_from","shop_top_banner","brandInfoData","float_str","link","size1","find","renderFloorData","floorChangeEvent","t","left_bar_top","offset","top","document","scroll","body_scrollTop","scrollTop","css","position","leftBarFollow","nav_ele","background","boxShadow","z-index","removeAttr","suctionTop","window","show","blur","hide","prototype","constructor","content_ele_offset_top_list","index","cords","push","bind","_length","min_top","max_top","last","bindEvent","$body_html","instance","_this","calcStairsIndex","changeStairsIndex","st","changeStairsBtn","_list","removeClass","eq","addClass","siblings","trigger"],"mappings":"AAAA,cAKA,WAsgBE,SAASA,EAAOC,GACdC,KAAKD,QAAUA,EACfC,KAAKC,OAvgBPC,EAAE,YAqEF,WAwBE,IAvBA,IAAIC,EAAW,IAAIC,OAAO,oBAAqB,CAC7CC,OAAQ,OACRC,WAAY,CACVC,WAAW,GAEbC,SAAU,CACRC,MAAO,IACPC,sBAAsB,GAExBC,MAAM,EAGNC,WAAY,CACVC,GAAI,qBACJC,WAAW,GAGbC,WAAY,CACVC,OAAQ,sBACRC,OAAQ,yBAIHC,EAAI,EAAGA,EAAIf,EAASS,WAAWO,QAAQC,OAAQF,IACtDf,EAASS,WAAWO,QAAQD,GAAGG,YAAc,WAC3CrB,KAAKsB,SAITnB,EAASU,GAAGQ,YAAc,WACxBlB,EAASK,SAASe,OAClB,IAAIC,EAAWrB,EAASY,WAAWE,OAC/BQ,EAAWtB,EAASY,WAAWC,OACnCd,EAAEsB,GAAUD,MAAK,GAAMG,QAAQ,CAC7BC,KAAM,IAERzB,EAAEuB,GAAUF,MAAK,GAAMG,QAAQ,CAC7BE,MAAO,KAIXzB,EAASU,GAAGgB,WAAa,WAEvB,IAAIL,EAAWrB,EAASY,WAAWE,OAC/BQ,EAAWtB,EAASY,WAAWC,OAEnCd,EAAEsB,GAAUD,MAAK,GAAMG,QAAQ,CAC7BC,MAAO,KAETzB,EAAEuB,GAAUF,MAAK,GAAMG,QAAQ,CAC7BE,OAAQ,KAEVzB,EAASK,SAASsB,UAjHpBC,GAuHA7B,EAAE8B,KAAK,CACLC,IAAK,wEACLC,SAAU,QACVC,KAAM,CACJC,SAAU,UACVC,YAAa,EACbC,UAAW,SACXC,YAAa,YACbC,OAAQ,KACRC,gBAAiB,EACjBC,YAAa,OACbC,QAAS,mCACTC,QAAS,GACTC,SAAU,iDACVC,aAAc,IACdC,WAAY,EACZC,UAAW,KACXC,EAAGC,KAAKC,OAEVC,QAAS,SAAiBjB,GAEP,YAAbA,EAAKkB,KACPnD,EAAE,eAAeoD,KAAK,cAAenB,EAAKA,KAAKoB,WAGnDC,cAAe,mBAMjBtD,EAAE8B,KAAK,CACLC,IAAK,0DACLC,SAAU,QACVC,KAAM,CACJsB,MAAO,GACPC,IAAK,GACLT,EAAGC,KAAKC,OAEVC,QAAS,SAAiBjB,GAExB,IAAIwB,EAAgB,GAChBC,EAA6B,GAEjC,GAAkB,MAAdzB,EAAK0B,KAAc,CAGrB,IAFA,IAAIC,EAAM3B,EAAKA,KAENjB,EAAI,EAAGA,EAAI4C,EAAI1C,OAAQF,IAC9B0C,GAA8B,gBAAiBG,OAAOD,EAAI5C,GAAGe,IAAK,MAAO8B,OAAOD,EAAI5C,GAAG8C,IAAK,aAG9F,IAAK,IAAIC,EAAK,EAAGA,EAAKH,EAAI1C,OAAQ6C,IAAM,CACtC,GAAW,IAAPA,EAAU,CACZN,GAAiB,gBAAiBI,OAAOD,EAAIG,GAAIhC,IAAK,MAAO8B,OAAOD,EAAIG,GAAIC,KAAM,aAClF,MAGFP,GAAiB,gBAAiBI,OAAOD,EAAIG,GAAIhC,IAAK,MAAO8B,OAAOD,EAAIG,GAAIC,KAAM,2BAIpFhE,EAAE,8BAA8BiE,KAAKR,GACrCzD,EAAE,6BAA6BiE,KAAKP,KAGxCJ,cAAe,6BAzJnB,WACE,IAAIY,GAAwB,EAE5BlE,EAAE,aAAamE,UAAU,WAElBD,GACHE,WAAW,WAyJRpE,EAAE8B,KAAK,CACZC,IAAK,8EACLC,SAAU,QACVC,KAAM,CACJC,SAAU,UACVC,YAAa,EACbC,UAAW,SACXC,YAAa,YACbC,OAAQ,KACRC,gBAAiB,EACjBC,YAAa,OACbC,QAAS,mCACTC,QAAS,GACTC,SAAU,iDACVC,aAAc,IACdyB,aAAc,IACdtB,EAAGC,KAAKC,OAEVK,cAAe,mBA1KMgB,KAAK,SAAUrC,GAE9B,GAAiB,YAAbA,EAAKkB,IAAmB,CAC1Be,GAAwB,EAIxB,IAHA,IAAIK,EAAOtC,EAAKA,KAAKA,KAAKsC,KACtBC,EAAY,GAEPxD,EAAI,EAAGA,EAAIuD,EAAKrD,OAAQF,IAC/BwD,GAAa,iDAAoDX,OAAOU,EAAKvD,GAAGyD,WAAY,MAAOZ,OAAOU,EAAKvD,GAAG0D,KAAM,mJAI1H1E,EAAE,aAAaiE,KAAKO,GAoM9BxE,EAAE,eAAe2E,WAAW,WAE1B,IAnCsBC,EAmClBC,EAAc/E,KAAKgF,kBAAkBC,aAAa,mBAnChCH,EAoCL,CACfH,WAAYI,GApCT7E,EAAE8B,KAAK,CACZC,IAAK,mFACLC,SAAU,QACVC,KAAM,CACJC,SAAU,UACVC,YAAa,EACbC,UAAW,SACXC,YAAa,YACbC,OAAQ,KACRC,gBAAiB,EACjBC,YAAa,SACbC,QAAS,mCACTC,QAAS,GACTC,SAAU,iDACVC,aAAc,IACdoC,YAAa,IACbP,WAAYG,EAAKH,WACjBQ,WAAY,KACZC,IAAK,OACLC,MAAO,KACPC,OAAQ,KACRC,UAAW,IACXC,eAAgB,SAChBC,UAAW,SACXxC,EAAGC,KAAKC,OAEVK,cAAe,iBAAmBsB,EAAKH,aAWpCH,KAAK,SAAUrC,IAOtB,SAA6BA,GAS3B,IAPA,IAAIuD,EAAoB,GAEpBC,EAAY,GACZ7B,EAAM3B,EAAKA,KAAKA,KAAKyD,YAErBC,EAAW,GAEN3E,EAAI,EAAGA,EAAI4C,EAAI1C,OAAQF,IAAK,CAInC,IAHA,IAAI4E,EAAY,GACZC,EAAWjC,EAAI5C,GAAG8E,SAASD,SAEtBE,EAAI,EAAGA,EAAIF,EAAS3E,OAAQ6E,IAE/B/E,IAAM4C,EAAI1C,OAAS,EAKvB0E,GAAa,sCAAyC/B,OAAOgC,EAASE,GAAGC,KAAM,MAAOnC,OAAOgC,EAASE,GAAGrB,KAAM,aAJ7GiB,GAAY,+BAAkC9B,OAAOgC,EAASE,GAAGC,KAAM,qDAAuDnC,OAAOgC,EAASE,GAAGE,MAAO,eAOxJjF,IAAM4C,EAAI1C,OAAS,IAKvBsE,GAAqB,mEAAqE3B,OAAOD,EAAI5C,GAAG8E,SAASpB,KAAM,8KAAkLb,OAAO+B,EAAW,4EAI7TJ,EAAoB,kEAAoE3B,OAAO2B,EAAmB,oCAElHC,GAAa,6LAAuN5B,OAAO8B,EAAU,yCAErP3F,EAAE,YAAYiE,KAAKuB,EAAoBC,GA1CnCS,CAAoBjE,WAtMjB,OAhDPkE,GAoSF,WAgCE,IA3BA,IAAIC,EAAmBpG,EAAE,oBAErBqG,EAAQ,SAAerF,GA2D7B,IAAuBsF,EA1DftF,IAAMoF,EAAiBlF,OAAS,GA8J/BlB,EAAE8B,KAAK,CACZyE,KAAM,MACNxE,IAAK,gCACLE,KAAM,CACJuE,KAAM,OACNpE,UAAW,SACXqE,SAAU,SACVC,SAAU,IACVC,aAAc,MACdC,SAAU,MACVC,uBAAwB,4JACxBC,2BAA4B,EAC5BC,oBAAqB,KACrBC,QAAS,GACTC,MAAO,GACPlE,EAAGC,KAAKC,OAEVjB,SAAU,SA7KSsC,KAAK,SAAUrC,IAiLtC,SAA8BA,EAAMiF,GAClC,IAAIjD,EAAO,GACPjD,EAAI,EAER,IAAK,IAAIoC,KAAQnB,EAAM,CACrB,IAAIkF,EAAY,wBAEXnG,EAAI,GAAK,GAAM,IAClBmG,EAAY,cAGdlD,GAAQ,eAAgBJ,OAAOsD,EAAW,0GAAkHtD,OAAO5B,EAAKmB,GAAMgE,WAAWC,MAAO,kHAAyHxD,OAAO5B,EAAKmB,GAAMkE,UAAW,uDAA0DzD,OAAO5B,EAAKmB,GAAMmE,gBAAiB,4BAA6B1D,OAAO5B,EAAKmB,GAAMmE,gBAAiB,2EAA6E1D,OAAO5B,EAAKmB,GAAMoE,KAAM,2KAAoL3D,OAAO5B,EAAKmB,GAAMqE,QAAS,sRACvyBzG,IAGFhB,EAAE,cAAciE,KAAKA,GAEG,mBAAbiD,GACTA,IAlMIQ,CAAqBzF,EAAKA,KAAK0F,UAAW,WACxCvD,WAAW,WACT,IAAIxE,EAAO,CACTgI,iBAAkB,mBAClBC,gBAAiB,mBAEnB7H,EAAE,aAAa8H,SAAS,CAEtB3H,OAAQ,SACR4H,UAAW,OAEZ,SA4CUzB,EAvCLtF,EAAI,EAwCbhB,EAAE8B,KAAK,CACZC,IAAK,+BACLC,SAAU,OACVC,KAAM,CACJ+F,QAAS1B,EACT2B,YAAa,EACb7F,UAAW,SACX8F,UAAW,EACXC,SAAU,EACV1B,SAAU,OACVC,SAAU,IACVC,aAAc,MACdC,SAAU,MACVC,uBAAwB,+LACxBC,2BAA4B,EAC5BC,oBAAqB,GACrBC,QAAS,GACTC,MAAO,GACPmB,eAAgB,GAChBC,UAAW,GACXtF,EAAGC,KAAKC,SA5DWqB,KAAK,SAAUrC,IAUxC,SAAyBA,EAAMqG,EAAiBpB,GAE9C,GAAkB,MAAdjF,EAAK0B,MAA6B,YAAb1B,EAAKkB,IAAmB,CAC/C,IAAIc,EAAO,GACPsE,EAAgBtG,EAAKA,KAAK0F,UAE1BpE,EAAQ,EAEZ,IAAK,IAAIH,KAAQmF,EAAe,CAC9B,IAAIC,EAAY,OAEZjF,EAAQ,IACViF,EAAY,SAGdvE,GAAQ,YAAaJ,OAAO0E,EAAcnF,GAAMqF,KAAM,2CAA+C5E,OAAO2E,EAAW,sFAAwF3E,OAAO0E,EAAcnF,GAAMgE,WAAWsB,MAAO,uOAAkP7E,OAAO0E,EAAcnF,GAAMkE,UAAW,2DAA6DzD,OAAO0E,EAAcnF,GAAMoE,KAAM,kCAAkC3D,OAAO0E,EAAcnF,GAAMmE,gBAAiB,kFAChsBhE,IAIFvD,EAAEsI,GAAiBK,KAAK,kBAAkB1E,KAAKA,GAEvB,mBAAbiD,GACTA,KAhCA0B,CAAgB3G,EAAMmE,EAAiBpF,OAIlCA,EAAI,EAAGA,EAAIoF,EAAiBlF,OAAQF,IAC3CqF,EAAMrF,GAnUR6H,GA+XF,WACE,IAAIC,EAAI,KACJC,EAAe/I,EAAE,gBAAgBgJ,SAASC,IAE9CjJ,EAAEkJ,UAAUC,OAAO,WACjB,GAAiB,iBAANL,EACT,OAAO,EAGTA,EAAI1E,WAAW,WACb0E,EAAI,KACJ,IAAIM,EAAiBpJ,EAAE,aAAaqJ,YAEhCN,GAAgBK,EAClBpJ,EAAE,gBAAgBsJ,IAAI,CACpBC,SAAU,QACVN,IAAK,QAGPjJ,EAAE,gBAAgBsJ,IAAI,CACpBC,SAAU,WAEVN,IAAK,QAGR,OAtZLO,GA2ZF,WAEE,IAAIC,EAAUzJ,EAAE,QAEZqJ,EAAYI,EAAQT,SAASC,IAC7BH,EAAI,KACR9I,EAAEkJ,UAAUC,OAAO,WAEjB,GAAiB,kBAANL,EACT,OAAO,EAGTA,EAAI1E,WAAW,aAAgB,KAE3BiF,GAAarJ,EAAE,aAAaqJ,YAC9BI,EAAQH,IAAI,CACVnE,MAAO,OACPoE,SAAU,QACVN,IAAK,EACLxH,KAAM,EACNiI,WAAY,UACZC,UAAW,sBACXC,UAAW,MAGbH,EAAQI,WAAW,WAlbvBC,GAybA9J,EAAE,iBAAiBoB,MAAM,WACvBpB,EAAE+J,QAAQV,UAAU,KAnbtBrJ,EAAE,eAAeoB,MAAM,WACrBpB,EAAE,kBAAkBgK,SAEtBhK,EAAE,eAAeiK,KAAK,WACpBjK,EAAE,kBAAkBkK,WA0exBtK,EAAOuK,UAAY,CACjBC,YAAaxK,EACbG,KAAM,WAEJD,KAAKuK,4BAA8B,GAEnCrK,EAAEF,KAAKD,QAAQ+H,kBAAkBoB,OAAO,SAAUsB,EAAOC,GAGvD,OADAzK,KAAKuK,4BAA4BG,KAAKD,EAAMtB,KACrCsB,GACPE,KAAK3K,OAEP,IAAI4K,EAAU5K,KAAKuK,4BAA4BnJ,OAC/CpB,KAAK6K,QAAU7K,KAAKuK,4BAA4B,GAChDvK,KAAK8K,QAAU9K,KAAKuK,4BAA4BK,EAAU,GAAK1K,EAAEF,KAAKD,QAAQ+H,kBAAkBiD,OAAOzF,SAEvGtF,KAAKuK,4BAA4BG,KAAK1K,KAAK8K,SAC3C9K,KAAKgL,aAEPA,UAAW,WACT,IAAIC,EAAa/K,EAAE,aACfgL,EAAWlL,KAGXgJ,EAAI,KACR9I,EAAEkJ,UAAUC,OAAO,WACjB,IAAI8B,EAAQnL,KAEZ,GAAiB,iBAANgJ,EACT,OAAO,EAGTA,EAAI1E,WAAW,WACb0E,EAAI,KAEJ,IAAIO,EAAY0B,EAAW1B,YAE3B4B,EAAMC,gBAAgB7B,IACrB,MACHoB,KAAK3K,OAEPE,EAAEF,KAAKD,QAAQgI,iBAAiBzG,MAAM,WAEpC,IAAIkJ,EAAQtK,EAAEF,MAAMwK,MAAMU,EAASnL,QAAQgI,iBAC3CmD,EAASG,kBAAkBb,MAG/BY,gBAAiB,SAAyBE,GAExC,GAAIA,EAAKtL,KAAK6K,SAAWS,EAAKtL,KAAK8K,QAGjC,OAFA9K,KAAKwK,OAAS,EACdxK,KAAKuL,mBACE,EAGT,IAAIC,EAAQxL,KAAKuK,4BAEjB,GAAIe,GAAME,EAAMxL,KAAKwK,QAAUc,EAAKE,EAAMxL,KAAKwK,MAAQ,GACrD,OAAO,EAIT,IAAK,IAAItJ,EAAI,EAAGA,EAAIsK,EAAMpK,OAAQF,IAChC,GAAIoK,GAAME,EAAMtK,IAAMoK,EAAKE,EAAMtK,EAAI,GAAI,CACvClB,KAAKwK,MAAQtJ,EACb,MAIJlB,KAAKuL,mBAEPA,gBAAiB,WACf,IAAoB,IAAhBvL,KAAKwK,MAEP,OADAtK,EAAEF,KAAKD,QAAQgI,iBAAiB0D,YAAY,QACrC,EAITvL,EAAEF,KAAKD,QAAQgI,iBAAiB2D,GAAG1L,KAAKwK,OAAOmB,SAAS,OAAOC,WAAWH,YAAY,QAExFJ,kBAAmB,SAA2Bb,GAE5CtK,EAAE,aAAaqJ,UAAUvJ,KAAKuK,4BAA4BC,IAC1DtK,EAAEkJ,UAAUyC,QAAQ,YA9lB1B","file":"index-98cb65c3df.js","sourcesContent":["\"use strict\";\n\n;\n;\n\n(function () {\n  $(function () {\n    init();\n  });\n  /**\r\n   * 页面初始化的函数\r\n   */\n\n  function init() {\n    // 轮播图的函数\n    swiperOpr(); // 获取搜索关键字的函数\n\n    getSearchKeywords(); // 获取搜索热词的函数\n\n    getSearchKeyHotKeywords(); // 二级菜单鼠标划入发送的ajax的函数\n\n    navHoverAjax(); // 梯子改变的事件\n\n    floorChangeEvent(); // 左边梯子随着滚轮滚动跟随的函数\n\n    leftBarFollow(); // 吸顶函数\n\n    suctionTop(); // 点击top回到页面最顶端的函数\n\n    locationTop();\n    clickSearch();\n  }\n\n  function clickSearch() {\n    $(\".search-ipt\").click(function () {\n      $(\".search-helper\").show();\n    });\n    $(\".search-ipt\").blur(function () {\n      $(\".search-helper\").hide();\n    });\n  }\n  /**\r\n   * nav二级菜单hover发送ajax的函数\r\n   */\n\n\n  function navHoverAjax() {\n    var hover_two_get_staring = false; // 鼠标hover上去的时候采取发送请求\n\n    $(\".nav-list\").mouseover(function () {\n      // 函数节流\n      if (!hover_two_get_staring) {\n        setTimeout(function () {\n          getTwoCategory().then(function (data) {\n            // 返回的信息未success代表成功\n            if (data.msg === \"success\") {\n              hover_two_get_staring = true;\n              var tabs = data.data.data.tabs;\n              var tabs_html = \"\";\n\n              for (var i = 0; i < tabs.length; i++) {\n                tabs_html += \"<li class=\\\"t-w-m-item\\\"><span data-categoryId=\\\"\".concat(tabs[i].categoryId, \"\\\">\").concat(tabs[i].name, \"</span>\\n                                <div class=\\\"t-w-box\\\">\\n\\n                                </div>\\n                                </li>\");\n              } // 拼接数据\n\n\n              $(\".t-w-menu\").html(tabs_html);\n              threeCategoryAjax();\n            }\n          });\n        }, 100);\n      }\n    });\n  } // swiper的轮播图的函数\n\n\n  function swiperOpr() {\n    var mySwiper = new Swiper('.swiper-container', {\n      effect: 'fade',\n      fadeEffect: {\n        crossFade: true\n      },\n      autoplay: {\n        delay: 3000,\n        disableOnInteraction: true\n      },\n      loop: true,\n      // 循环模式选项\n      // 如果需要分页器\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true\n      },\n      // 如果需要前进后退按钮\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev'\n      }\n    }); //鼠标滑过pagination控制swiper切换\n\n    for (var i = 0; i < mySwiper.pagination.bullets.length; i++) {\n      mySwiper.pagination.bullets[i].onmouseover = function () {\n        this.click();\n      };\n    }\n\n    mySwiper.el.onmouseover = function () {\n      mySwiper.autoplay.stop();\n      var prev_ele = mySwiper.navigation.prevEl;\n      var next_ele = mySwiper.navigation.nextEl;\n      $(prev_ele).stop(true).animate({\n        left: 0\n      });\n      $(next_ele).stop(true).animate({\n        right: 0\n      });\n    };\n\n    mySwiper.el.onmouseout = function () {\n      // 获取左右两边的按钮\n      var prev_ele = mySwiper.navigation.prevEl;\n      var next_ele = mySwiper.navigation.nextEl; // 给两个边的那妞设置动画隐藏效果\n\n      $(prev_ele).stop(true).animate({\n        left: -33\n      });\n      $(next_ele).stop(true).animate({\n        right: -33\n      });\n      mySwiper.autoplay.start();\n    };\n  } // 获取搜索关键字\n\n\n  function getSearchKeywords() {\n    $.ajax({\n      url: \"https://mapi.vip.com/vips-mobile/rest/shopping/search/entryword/pc/v1\",\n      dataType: \"jsonp\",\n      data: {\n        app_name: \"shop_pc\",\n        app_version: 4.0,\n        warehouse: \"VIP_SH\",\n        fdc_area_id: \"103104110\",\n        client: \"pc\",\n        mobile_platform: 1,\n        province_id: 103104,\n        api_key: \"70f71280d5d547b2a7bb370a529aeea1\",\n        user_id: \"\",\n        mars_cid: \"1585923048293_a96d442f0be377ab63fc1790f5d32873\",\n        wap_consumer: \"a\",\n        channel_id: 1,\n        gPlatform: \"PC\",\n        _: Date.now()\n      },\n      success: function success(data) {\n        // 数据请求成功之后需要将数据渲染到页面之中\n        if (data.msg === \"success\") {\n          $(\".search-ipt\").attr(\"placeholder\", data.data.showWord);\n        }\n      },\n      jsonpCallback: \"getSearchwords\"\n    });\n  } // 获取搜索热点关键字\n\n\n  function getSearchKeyHotKeywords() {\n    $.ajax({\n      url: \"https://category.vip.com/ajax/getSuggestHotKeywords.php\",\n      dataType: \"jsonp\",\n      data: {\n        count: 10,\n        uid: \"\",\n        _: Date.now()\n      },\n      success: function success(data) {\n        // code为200代表返回的是成功状态\n        var hot_list_html = \"\";\n        var search_recommend_list_html = \"\";\n\n        if (data.code === 200) {\n          var res = data.data;\n\n          for (var i = 0; i < res.length; i++) {\n            search_recommend_list_html += \"<li><a href=\\\"\".concat(res[i].url, \"\\\">\").concat(res[i].key, \"</a></li>\");\n          }\n\n          for (var _i = 0; _i < res.length; _i++) {\n            if (_i === 6) {\n              hot_list_html += \"<li><a href=\\\"\".concat(res[_i].url, \"\\\">\").concat(res[_i].word, \"</a></li>\");\n              break;\n            }\n\n            hot_list_html += \"<li><a href=\\\"\".concat(res[_i].url, \"\\\">\").concat(res[_i].word, \"</a><span>|</span></li>\");\n          } // 替换到页面之中\n\n\n          $(\".search-hots-pot .hot-list\").html(hot_list_html);\n          $(\".search-recommend-list ul\").html(search_recommend_list_html);\n        }\n      },\n      jsonpCallback: \"searchSuggestHotKeywords\"\n    });\n  } // 二级菜单的数据\n\n\n  function getTwoCategory() {\n    return $.ajax({\n      url: \"https://mapi.vip.com/vips-mobile/rest/shopping/pc/category/index/get_tab/v1\",\n      dataType: \"jsonp\",\n      data: {\n        app_name: \"shop_pc\",\n        app_version: 4.0,\n        warehouse: \"VIP_SH\",\n        fdc_area_id: \"103104110\",\n        client: \"PC\",\n        mobile_platform: 1,\n        province_id: 103104,\n        api_key: \"70f71280d5d547b2a7bb370a529aeea1\",\n        user_id: \"\",\n        mars_cid: \"1585923048293_a96d442f0be377ab63fc1790f5d32873\",\n        wap_consumer: \"a\",\n        hierarchy_id: 117,\n        _: Date.now()\n      },\n      jsonpCallback: \"getTopCategory\"\n    });\n  } // 三级菜单数据请求\n\n\n  function getThreeCategory(args) {\n    return $.ajax({\n      url: \"https://mapi.vip.com/vips-mobile/rest/shopping/pc/category/index/get_tab_data/v1\",\n      dataType: \"jsonp\",\n      data: {\n        app_name: \"shop_pc\",\n        app_version: 4.0,\n        warehouse: \"VIP_SH\",\n        fdc_area_id: \"103104110\",\n        client: \"PC\",\n        mobile_platform: 1,\n        province_id: \"103104\",\n        api_key: \"70f71280d5d547b2a7bb370a529aeea1\",\n        user_id: \"\",\n        mars_cid: \"1585923048293_a96d442f0be377ab63fc1790f5d32873\",\n        wap_consumer: \"a\",\n        hierarchyId: 117,\n        categoryId: args.categoryId,\n        clientFrom: \"PC\",\n        net: \"wifi\",\n        width: 1920,\n        height: 1080,\n        pcmpWidth: 750,\n        mobile_channel: \"nature\",\n        functions: \"jumper\",\n        _: Date.now()\n      },\n      jsonpCallback: \"getSubCategory\" + args.categoryId\n    });\n  } // 三级菜单的请求发送\n\n\n  function threeCategoryAjax() {\n    $(\".t-w-m-item\").mouseenter(function () {\n      // 难道每一个二级菜单的category的ID值\n      var category_id = this.firstElementChild.getAttribute(\"data-categoryId\");\n      getThreeCategory({\n        categoryId: category_id\n      }).then(function (data) {\n        renderThreeCategory(data);\n      });\n    });\n  } // 三级菜单数据渲染操作\n\n\n  function renderThreeCategory(data) {\n    // 三级菜单变量\n    var sub_category_html = \"\"; // 三级菜单热门品牌图片变量\n\n    var brand_rec = \"\";\n    var res = data.data.data.sectionList; // 图片列表的变量\n\n    var img_list = \"\";\n\n    for (var i = 1; i < res.length; i++) {\n      var list_html = \"\";\n      var children = res[i].category.children;\n\n      for (var j = 0; j < children.length; j++) {\n        // 因为接口数据最后一项是热销商品的图片数据\n        if (i === res.length - 1) {\n          img_list += \" <li class=\\\"b-img\\\"><a href=\\\"\".concat(children[j].href, \"\\\"><img\\n                                    src=\\\"\").concat(children[j].image, \"\\\"></a></li>\");\n          continue;\n        }\n\n        list_html += \"<li class=\\\"category_item\\\"><a href=\\\"\".concat(children[j].href, \"\\\">\").concat(children[j].name, \"</a></li>\");\n      }\n\n      if (i === res.length - 1) {\n        continue;\n      } // 三级菜单循环渲染\n\n\n      sub_category_html += \"<div class=\\\"sub clearfix\\\">\\n                            <strong>\".concat(res[i].category.name, \"</strong>\\n                            <i class=\\\"iconfont icon-zuojiantou-copy\\\"></i>\\n                            <ul class=\\\"category_list\\\">\\n                            \").concat(list_html, \"\\n                            </ul>\\n                            </div>\");\n    } // 最后处理三级菜单的html代码\n\n\n    sub_category_html = \"<div class=\\\"brand-type clearfix\\\">\\n                            \".concat(sub_category_html, \"\\n                        </div>\"); // 每一个品牌热销的图片html代码\n\n    brand_rec += \" <div class=\\\"brand-img\\\"><div class=\\\"brand-title\\\">\\n                        \\u54C1\\u724C\\u63A8\\u8350\\n                        </div>\\n                        <ul class=\\\"brands\\\">\\n                            \".concat(img_list, \"\\n                        </ul></div>\"); // 渲染到页面之中\n\n    $(\".t-w-box\").html(sub_category_html + brand_rec);\n  } // 梯子切换\n\n\n  function floorChangeEvent() {\n    // 1.点击梯子时候 我们是需要找到与梯子对应盒子 对应盒子距离顶部的距离没然后直接将滚动条直接设置这个高度\n    // 2.当我滑动的时候， 当这个盒子刚出来的时候啊，我们需要发送一个请求去请求对应梯子的数据 然后吐过这个梯子的距离浏览器顶部的高度等于scrollTop的高度就将左侧的变为选中状态\n    // 加入一个图片懒加载功能\n    // 这个ajax不是我们页面一上来就去出发的 是通过这个梯子去触发的\n    var shop_top_banners = $(\".shop-top-banner\");\n\n    var _loop = function _loop(i) {\n      if (i === shop_top_banners.length - 1) {\n        // 最后一个梯子是预告的请求\n        noticeRankAjax().then(function (data) {\n          noticeRankRenderData(data.data.brandInfo, function () {\n            setTimeout(function () {\n              new Stairs({\n                content_selector: \".shop-top-banner\",\n                stairs_selector: \".left-ladder a\"\n              });\n              $(\".wrap img\").lazyload({\n                // 覆盖lazyload自带的背景图片\n                effect: \"fadeIn\",\n                threshold: 400\n              });\n            }, 300);\n          });\n        });\n      }\n\n      floorShopAjax(i + 1).then(function (data) {\n        renderFloorData(data, shop_top_banners[i]);\n      });\n    };\n\n    for (var i = 0; i < shop_top_banners.length; i++) {\n      _loop(i);\n    }\n  }\n\n  function renderFloorData(data, shop_top_banner, callback) {\n    // 判读状态码\n    if (data.code === 200 && data.msg === \"success\") {\n      var html = \"\";\n      var brandInfoData = data.data.brandInfo; // 因为需要偶数左浮动奇数右浮动\n\n      var count = 0;\n\n      for (var attr in brandInfoData) {\n        var float_str = \"left\";\n\n        if (count % 2) {\n          float_str = \"right\";\n        }\n\n        html += \"<a href=\\\"\".concat(brandInfoData[attr].link, \"\\\"><div class=\\\"shop-item\\\" style=\\\"float: \").concat(float_str, \"; margin-bottom: 20px;\\\"><img width=570 height=273\\n                data-original=\\\"\").concat(brandInfoData[attr].brandImage.size1, \"\\\" alt=\\\"\\\">\\n                <div class=\\\"brand-info\\\" style=\\\"margin-top: 20px; font-size: 18px;\\\">\\n                    <p class=\\\"brandName\\\" style=\\\"color: #000000; font-weight: bold; margin-bottom: 10px;\\\">\\n                        \").concat(brandInfoData[attr].salesName, \"</p>\\n                        <p style=\\\"color:#333333\\\">\").concat(brandInfoData[attr].agio, \"\\n                            \").concat(brandInfoData[attr].activeIndexTips, \"\\n                        </p>\\n                </div>\\n            </div></a>\");\n        count++;\n      } // 渲染到页面之中\n\n\n      $(shop_top_banner).find(\".shop-show-box\").html(html);\n\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  } // 商品梯子图片展示的ajax请求\n\n\n  function floorShopAjax(floorNum) {\n    return $.ajax({\n      url: \"http://xfy196.qicp.vip/floor\",\n      dataType: \"json\",\n      data: {\n        floorId: floorNum,\n        newDapLogic: 1,\n        warehouse: \"VIP_SH\",\n        channelId: 0,\n        sortType: 1,\n        areaCode: 103104,\n        pagecode: \"a\",\n        provinceName: \"安徽省\",\n        cityName: \"滁州市\",\n        \"brandInfoExt[fields]\": \"activeIndexTips,displayEndtime,salesNo,brandImage,mobileImageOne,agio,salesName,brandStoreSn,vendorSaleMessage,isSpecialBanner,hiddenEndTime,iconInfo,link,brandType,pms_act_no,showTimeFrom\",\n        \"brandInfoExt[startIndex]\": 0,\n        \"brandInfoExt[num]\": 36,\n        preview: \"\",\n        token: \"\",\n        sell_time_from: \"\",\n        time_from: \"\",\n        _: Date.now()\n      }\n    });\n  } // 左边栏scroll监听跟随的操作\n\n\n  function leftBarFollow() {\n    var t = null;\n    var left_bar_top = $(\".left-ladder\").offset().top; // 滚动监听\n\n    $(document).scroll(function () {\n      if (typeof t === \"number\") {\n        return false;\n      }\n\n      t = setTimeout(function () {\n        t = null;\n        var body_scrollTop = $(\"body,html\").scrollTop();\n\n        if (left_bar_top <= body_scrollTop) {\n          $(\".left-ladder\").css({\n            position: \"fixed\",\n            top: \"10%\"\n          });\n        } else {\n          $(\".left-ladder\").css({\n            position: \"absolute\",\n            // 需要减去nav的高度应为nav菜单栏是固定定位了\n            top: 1565\n          });\n        }\n      }, 100);\n    });\n  } // 吸顶操作\n\n\n  function suctionTop() {\n    // 找到nav菜单的元素节点\n    var nav_ele = $(\".nav\"); // 获取这个元素距离页面的高度\n\n    var scrollTop = nav_ele.offset().top;\n    var t = null;\n    $(document).scroll(function () {\n      // 函数节流\n      if (typeof t === \" number\") {\n        return false;\n      }\n\n      t = setTimeout(function () {}, 200);\n\n      if (scrollTop <= $(\"body,html\").scrollTop()) {\n        nav_ele.css({\n          width: \"100%\",\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          background: \"#ffffff\",\n          boxShadow: \"0 1px 3px 0 #a7a7a7\",\n          \"z-index\": 100\n        });\n      } else {\n        nav_ele.removeAttr(\"style\");\n      }\n    });\n  } // 点击top直接返回页面最上面\n\n\n  function locationTop() {\n    $(\".location-top\").click(function () {\n      $(window).scrollTop(0);\n    });\n  }\n  /**\r\n   * 最后预告板块的数据请求渲染\r\n   */\n\n\n  function noticeRankAjax() {\n    // 发送ajax的请求\n    return $.ajax({\n      type: \"get\",\n      url: \"http://xfy196.qicp.vip/notice\",\n      data: {\n        mode: \"home\",\n        warehouse: \"VIP_SH\",\n        areaCode: \"103104\",\n        pagecode: \"a\",\n        provinceName: \"安徽省\",\n        cityName: \"滁州市\",\n        \"brandInfoExt[fields]\": \"activeIndexTips,salesNo,brandImage,mobileImageOne,salesName,brandStoreSn,vendorSaleMessage,warmMode,agio,storyLogo,link,brandType,pms_act_no,showTimeFrom\",\n        \"brandInfoExt[startIndex]\": 0,\n        \"brandInfoExt[num]\": \"72\",\n        preview: \"\",\n        token: \"\",\n        _: Date.now()\n      },\n      dataType: \"json\"\n    });\n  }\n\n  function noticeRankRenderData(data, callback) {\n    var html = \"\";\n    var i = 0;\n\n    for (var attr in data) {\n      var marginStr = \"margin:0 30px 20px 0\"; // 每一行的最后一位我们需要将margin设置为0\n\n      if ((i + 1) % 4 === 0) {\n        marginStr = \"margin : 0\";\n      }\n\n      html += \"<div style=\\\"\".concat(marginStr, \"\\\" class=\\\"brand-item\\\">\\n            <a href=\\\"javascript:void(0)\\\"><img class=\\\"brand-img\\\" data-original=\\\"\").concat(data[attr].brandImage.size2, \"\\\"></a>\\n            <div class=\\\"brand-info\\\">\\n                <a class=\\\"brand-name\\\" href=\\\"javascript:void(0)\\\">\").concat(data[attr].salesName, \"</a>\\n                <div class=\\\"pms-info\\\" title=\\\"\").concat(data[attr].activeIndexTips, \"\\\">\\n                    \").concat(data[attr].activeIndexTips, \"\\n                </div>\\n                <span class=\\\"brand-discount\\\">\").concat(data[attr].agio, \"\\n            </div>\\n            <form action=\\\"#\\\" class=\\\"book_form\\\">\\n                <div class=\\\"book-notice-warp\\\">\\n                    <input type=\\\"hidden\\\" value=\\\"\").concat(data[attr].salesNo, \"\\\" name=\\\"brandId\\\">\\n                    <input type=\\\"text\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\\\" name=\\\"email-phone\\\" class=\\\"subscribe-phone\\\">\\n                    <button type=\\\"submit\\\" class=\\\"book-notice-btn book-sub\\\">\\u5F00\\u552E\\u63D0\\u793A</button>\\n                </div>\\n            </form>\\n        </div>\");\n      i++;\n    }\n\n    $(\".last-show\").html(html);\n\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  } // 梯子对象\n\n\n  function Stairs(options) {\n    this.options = options;\n    this.init();\n  }\n\n  Stairs.prototype = {\n    constructor: Stairs,\n    init: function init() {\n      // 计算每一个内容元素的高度的数组\n      this.content_ele_offset_top_list = []; // 获取元素的偏移量\n\n      $(this.options.content_selector).offset(function (index, cords) {\n        // 将每一个元素的高度值放入发哦度列表之中\n        this.content_ele_offset_top_list.push(cords.top);\n        return cords;\n      }.bind(this)); // 计算最小高和最大高\n\n      var _length = this.content_ele_offset_top_list.length;\n      this.min_top = this.content_ele_offset_top_list[0];\n      this.max_top = this.content_ele_offset_top_list[_length - 1] + $(this.options.content_selector).last().height(); // 同样我们吧这个最高的值放入数组中之后的计算需要使用\n\n      this.content_ele_offset_top_list.push(this.max_top);\n      this.bindEvent();\n    },\n    bindEvent: function bindEvent() {\n      var $body_html = $(\"body,html\");\n      var instance = this; // 滚动事件监听\n      // 函数节流的变量\n\n      var t = null;\n      $(document).scroll(function () {\n        var _this = this;\n\n        if (typeof t === \"number\") {\n          return false;\n        }\n\n        t = setTimeout(function () {\n          t = null; // 获得数据\n\n          var scrollTop = $body_html.scrollTop(); // 计算下标\n\n          _this.calcStairsIndex(scrollTop);\n        }, 200);\n      }.bind(this)); // 点击右侧楼梯的我们需要滚动至对应的位置 绑定事件\n\n      $(this.options.stairs_selector).click(function () {\n        // 先得到点击事件元素在数组中的下标 通过这个下标找到对应的板块\n        var index = $(this).index(instance.options.stairs_selector);\n        instance.changeStairsIndex(index);\n      });\n    },\n    calcStairsIndex: function calcStairsIndex(st) {\n      // 我们需要判断数据是在哪一个楼梯的访问\n      if (st < this.min_top || st > this.max_top) {\n        this.index = -1;\n        this.changeStairsBtn();\n        return false;\n      }\n\n      var _list = this.content_ele_offset_top_list; // 数据一直在这个范围之内我们就不在重复计算了\n\n      if (st >= _list[this.index] && st < _list[this.index + 1]) {\n        return false;\n      } // 遍历记录滚入的楼梯的下标\n\n\n      for (var i = 0; i < _list.length; i++) {\n        if (st >= _list[i] && st < _list[i + 1]) {\n          this.index = i;\n          break;\n        }\n      }\n\n      this.changeStairsBtn();\n    },\n    changeStairsBtn: function changeStairsBtn() {\n      if (this.index === -1) {\n        $(this.options.stairs_selector).removeClass(\"cur\");\n        return false;\n      } // 如果不熟index===-1 说明要选中对应下标的楼梯\n\n\n      $(this.options.stairs_selector).eq(this.index).addClass(\"cur\").siblings().removeClass(\"cur\");\n    },\n    changeStairsIndex: function changeStairsIndex(index) {\n      // 通过这个index我们去scroll对应的板块\n      $(\"body,html\").scrollTop(this.content_ele_offset_top_list[index]);\n      $(document).trigger(\"scroll\");\n    }\n  };\n})();"]}