{"version":3,"sources":["register.js"],"names":["$","on","toggleClass","val","err_txt","parent","siblings","find","show","hide","one","ipts","index","this","ele","get","html","trim","validator","addMethod","value","element","optional","test","validate","rules","loginName","required","format","pvcode","digits","minlength","password","repeatPassword","messages","errorPlacement","error","attr","removeClass","errorText","innerHTML","css","borderColor","children","unhighlight","addClass","click","valid","ajax"],"mappings":"AAAA,aAMEA,EAAE,WAkBAA,EAAE,uBAAuBC,GAAG,QAAS,QAAS,WAC5CD,EAAE,2BAA2BE,YAAY,eACZ,MAA7BF,EAAE,iBAAiBG,MAAgBH,EAAE,iBAAiBG,IAAI,GAAKH,EAAE,iBAAiBG,IAAI,GACtF,IAAIC,EAAUJ,EAAE,iBAAiBK,SAASA,SAASC,SAAS,gBAAgBC,KAAK,QAEhD,MAA7BP,EAAE,iBAAiBG,MACrBC,EAAQI,OAERJ,EAAQK,SAIZT,EAAE,uBAAuBU,IAAI,QAAS,QAAS,WAC7C,IAAIC,EAAOX,EAAE,6BACTY,EAAQD,EAAKC,MAAMZ,EAAEa,OACrBC,EAAMd,EAAEW,EAAKI,IAAIH,IAAQP,SAASC,WAAWC,KAAK,QAAQC,OAE9D,OAAQI,GACN,KAAK,EACHE,EAAIE,KAAK,mBAKfhB,EAAE,uBAAuBU,IAAI,OAAQ,QAAS,WAC5C,IAAIC,EAAOX,EAAE,6BACTY,EAAQD,EAAKC,MAAMZ,EAAEa,OACrBC,EAAMd,EAAEW,EAAKI,IAAIH,IAAQP,SAASC,WAAWC,KAAK,QAEtD,GAA6B,KAAzBP,EAAEa,MAAMV,MAAMc,OAChB,OAAO,EAGT,OAAQL,GACN,KAAK,EACHE,EAAIE,KAAK,YAAYR,OACrB,MAEF,KAAK,EACHM,EAAIE,KAAK,WAAWR,OACpB,MAEF,KAAK,EACHM,EAAIE,KAAK,UAAUR,OACnB,MAEF,KAAK,EACHM,EAAIE,KAAK,WAAWR,UAgG1BR,EAAEkB,UAAUC,UAAU,SAAU,SAAUC,EAAOC,GAE/C,OAAOR,KAAKS,SAASD,IADL,2EAC2BE,KAAKH,IAC/C,cApFHpB,EAAE,aAAawB,SAAS,CACtBC,MAAO,CACLC,UAAW,CACTC,UAAU,EACVC,QAAQ,GAEVC,OAAQ,CACNF,UAAU,EACVG,QAAQ,EACRC,UAAW,GAEbC,SAAU,CACRL,UAAU,GAEZM,eAAgB,CACdN,UAAU,IAGdO,SAAU,CACRR,UAAW,CACTC,SAAU,YAEZK,SAAU,CACRL,SAAU,UAEZE,OAAQ,CACNF,SAAU,eACVG,OAAQ,eACRC,UAAW,gBAEbE,eAAgB,CACdN,SAAU,YAGdQ,eAAgB,SAAwBC,EAAOf,GAEP,SAAlCrB,EAAEqB,GAASgB,KAAK,eAClBrC,EAAE,0BAA0BsC,YAAY,kBAG1C,IAAIC,EAAYH,EAAM,GAAGI,UACzBnB,EAAQoB,IAAI,CACVC,YAAa,YAEfrB,EAAQf,SAAS,eAAeE,OAChCa,EAAQf,SAAS,iBAAiBG,OAClCY,EAAQhB,SAASC,SAAS,gBAAgBqC,SAAS,QAAQnC,OAAOQ,KAAKuB,IAEzEK,YAAa,SAAqBvB,GAEM,SAAlCrB,EAAEqB,GAASgB,KAAK,eAClBrC,EAAE,0BAA0B6C,SAAS,kBAGvC7C,EAAEqB,GAASoB,IAAI,CACbC,YAAa,YAEf1C,EAAEqB,GAASf,SAAS,eAAeG,OACnCT,EAAEqB,GAASf,SAAS,iBAAiBE,OACrCR,EAAEqB,GAAShB,SAASC,SAAS,gBAAgBqC,SAAS,QAAQlC,UAIlET,EAAE,mBAAmB8C,MAAM,WAIzB,IAHgB9C,EAAE,aAAa+C,QAI7B,OAAO,EAIT/C,EAAEgD,KAAK","file":"register-5cc2702dc5.js","sourcesContent":["\"use strict\";\n\n;\n;\n\n(function () {\n  $(function () {\n    init();\n  });\n  /**\r\n   * 初始化函数\r\n   */\n\n  function init() {\n    bindEvent();\n    formValidate();\n  }\n  /**\r\n   * 给表单元素绑定事件\r\n   */\n\n\n  function bindEvent() {\n    // 我已同意的checkbox的点击事件\n    $(\".ui-form-item-group\").on(\"click\", \"label\", function () {\n      $(\".ui-checkbox-simulation\").toggleClass(\"check-agree\");\n      $(\"#mobile_agree\").val() === \"1\" ? $(\"#mobile_agree\").val(0) : $(\"#mobile_agree\").val(1);\n      var err_txt = $(\"#mobile_agree\").parent().parent().siblings(\".u-input-tip\").find(\".txt\");\n\n      if ($(\"#mobile_agree\").val() === \"0\") {\n        err_txt.show();\n      } else {\n        err_txt.hide();\n      }\n    }); // 每一个表单focus的时候需要提示信息\n\n    $(\".ui-form-item-group\").one(\"focus\", \"input\", function () {\n      var ipts = $(\".ui-form-item-group input\");\n      var index = ipts.index($(this));\n      var ele = $(ipts.get(index)).parent().siblings().find(\".txt\").show();\n\n      switch (index) {\n        case 0:\n          ele.html(\"请输入您的11位手机号码\");\n          break;\n      }\n    }); // 失焦事件\n\n    $(\".ui-form-item-group\").one(\"blur\", \"input\", function () {\n      var ipts = $(\".ui-form-item-group input\");\n      var index = ipts.index($(this));\n      var ele = $(ipts.get(index)).parent().siblings().find(\".txt\");\n\n      if ($(this).val().trim() !== \"\") {\n        return false;\n      }\n\n      switch (index) {\n        case 0:\n          ele.html(\"手机号码不能为空\").show();\n          break;\n\n        case 1:\n          ele.html(\"验证码不能为空\").show();\n          break;\n\n        case 2:\n          ele.html(\"密码不能为空\").show();\n          break;\n\n        case 3:\n          ele.html(\"请输入确认密码\").show();\n          break;\n\n        default:\n          break;\n      }\n    });\n  }\n  /**\r\n   * 表单格式验证\r\n   */\n\n\n  function formValidate() {\n    customValidate();\n    $(\"#reg_form\").validate({\n      rules: {\n        loginName: {\n          required: true,\n          format: true\n        },\n        pvcode: {\n          required: true,\n          digits: true,\n          minlength: 6\n        },\n        password: {\n          required: true\n        },\n        repeatPassword: {\n          required: true\n        }\n      },\n      messages: {\n        loginName: {\n          required: \"手机号码不能为空\"\n        },\n        password: {\n          required: \"密码不能为空\"\n        },\n        pvcode: {\n          required: \"请输入6位数字手机验证码\",\n          digits: \"请输入6位数字手机验证码\",\n          minlength: \"请输入6位数字手机验证码\"\n        },\n        repeatPassword: {\n          required: \"请输入确认密码\"\n        }\n      },\n      errorPlacement: function errorPlacement(error, element) {\n        // 判断是否为书籍元素节点\n        if ($(element).attr(\"data-value\") === \"手机号码\") {\n          $(\"#mobile_verifycode_btn\").removeClass(\"mobile-success\");\n        }\n\n        var errorText = error[0].innerHTML;\n        element.css({\n          borderColor: \"#f64a4a\"\n        });\n        element.siblings(\".icon-error\").show();\n        element.siblings(\".icon-success\").hide();\n        element.parent().siblings(\".u-input-tip\").children(\"span\").show().html(errorText);\n      },\n      unhighlight: function unhighlight(element, errorClass, validClass) {\n        // 判断是否为书籍元素节点\n        if ($(element).attr(\"data-value\") === \"手机号码\") {\n          $(\"#mobile_verifycode_btn\").addClass(\"mobile-success\");\n        }\n\n        $(element).css({\n          borderColor: \"#d2c2d2\"\n        });\n        $(element).siblings(\".icon-error\").hide();\n        $(element).siblings(\".icon-success\").show();\n        $(element).parent().siblings(\".u-input-tip\").children(\"span\").hide();\n      }\n    }); // 表单提交的时候也需要验证一次\n\n    $(\"#mobile-reg-btn\").click(function () {\n      var isChecked = $(\"#reg_form\").valid();\n      ;\n\n      if (!isChecked) {\n        return false;\n      } // 如果验证成功我们就发送ajax请求\n\n\n      $.ajax({});\n    });\n  }\n  /**\r\n  * 自定义邮箱，手机号码的正则验证\r\n  */\n\n\n  function customValidate() {\n    $.validator.addMethod(\"format\", function (value, element) {\n      var regMobile = /^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|(147))\\d{8}$/;\n      return this.optional(element) || regMobile.test(value);\n    }, \"请输入正确的手机号码\");\n  }\n})();"]}